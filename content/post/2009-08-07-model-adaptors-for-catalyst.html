---
date: "2009-08-07T00:00:00Z"
tags:
- Catalyst
- model dbix::class
- MVC
- Perl
title: Model adaptors for Catalyst.
---
<p>In a <a href="http://blog.urth.org/2009/08/how-i-use-catalyst.html">recent post</a> Dave Rolsky points out some of his own best practices for Catalyst. While I've come around to agree with his first point, that Catalyst should generate a reusable config class for the user, I'm not so sure with regards to his model viewpoints.</p>
<p>For me, the strength of Catalyst's Model layer has always been the immense glue layer that allows me to configure any model in a predictable way. Much like DBI gives me a unified way to talk to databases, the Catalyst model-layer gives us a unified way of configuring models. In addition, we are able to provide helpers to create these models from the command line, reducing the work needed to set up a new model.</p>
<p>I will grant Dave that the API for the model adapters could be better. It is my hope that we will accomplish as Catalyst takes advantage of more of the new stack that Moose provides. In particular I am excited about the work Devin Austin is doing for GSOC on<a href="http://www.codedright.net/2009/06/a-technical-report-of-my-gsoc-statusprogress.html"> improving the -Devel package</a>. This is an area where we can significally improve without too much worry about backwards compability. For instance, the KiokuDB model already uses moose accessors for config.</p>
<p>Dave's example only limits itself to talking to a SQL store via DBIx::Class. However, real world applications typically have several models. In some of my apps I talk to S3, or Queue servers, or LDAP stores for user management. This shows the true power of the Catalyst model layer.</p>
<p>I also hope that we can provide a different way to tie models to controllers. This should be part of the moosify branch of Catalyst-Runtime. I disagree that $schema->resultset('Person')  is a significant  improvement  on $c->model('DBIC::Person'). Controller code is not meant to run without a context anyways. </p>
<p>I hope that by looking at Moose Extensions, we will be able to find a more suitable API for this functionality. Of course, we have a lot of work ahead of us, but I am really starting to like what Catalyst has turned into.</p>
